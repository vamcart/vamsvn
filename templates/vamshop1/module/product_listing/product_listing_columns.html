{config_load file="$language/lang_$language.conf" section="index"}

{if $smarty.get.keywords}<h1>{$smarty.get.keywords|capitalize} {if {$smarty.get.page} && {$smarty.get.page} > 0} {$smarty.const.TEXT_PAGE_IN_CAT} {$smarty.get.page}{/if}</h1>{/if}

{if $CATEGORIES_NAME}
<h1>{$CATEGORIES_NAME}{if $MANUFACTURERS_NAME} {$MANUFACTURERS_NAME}{/if}{$FILTER}</h1>
{/if}

{if $MANUFACTURERS_DESCRIPTION and !$smarty.get.page}
<div class="page">
<div class="pageItem">
<p>
{$MANUFACTURERS_DESCRIPTION}
</p>
<div class="clear"></div>
</div>

</div>
{/if}

<div class="page">
<div class="pageItem">

{if $MANUFACTURER_DROPDOWN}
{$MANUFACTURER_DROPDOWN}
{/if}
<p>
{#text_sort#}
<a href="{$LINK_sort_name_asc}">{#text_sort_name_asc#}</a>  
<a href="{$LINK_sort_name_desc}">{#text_sort_name_desc#}</a> | 
<a href="{$LINK_sort_price_asc}">{#text_sort_price_asc#}</a>  
<a href="{$LINK_sort_price_desc}">{#text_sort_price_desc#}</a> | 
<a href="{$LINK_sort_ordered_asc}">{#text_sort_ordered_asc#}</a>  
<a href="{$LINK_sort_ordered_desc}">{#text_sort_ordered_desc#}</a> |
<a href="{$LINK_sort_id_asc}">{#text_sort_id_asc#}</a>  
<a href="{$LINK_sort_id_desc}">{#text_sort_id_desc#}</a> | 
<a href="{$LINK_sort_quantity_asc}">{#text_sort_quantity_asc#}</a>  
<a href="{$LINK_sort_quantity_desc}">{#text_sort_quantity_desc#}</a> 
</p>
{if $PRODUCTS_COUNT >= $smarty.const.MAX_DISPLAY_SEARCH_RESULTS}
<p>
{#text_products_per_page#}

{if $PRODUCTS_COUNT > 10}
<a href="{$LINK_PAGE}10">10</a>&nbsp;
{/if}

{if $PRODUCTS_COUNT > 20}
<a href="{$LINK_PAGE}20">20</a>&nbsp;
{/if}

{if $PRODUCTS_COUNT > 50}
<a href="{$LINK_PAGE}50">50</a>&nbsp; 
{/if}

{if $PRODUCTS_COUNT > 100}
<a href="{$LINK_PAGE}100">100</a>&nbsp;
{/if} 
</p>
{/if}
<div class="clear"></div>
</div>

</div>

{if $CATEGORIES_NAME && SPECIFICATIONS_BOX_COMPARISON == "True"}
<form action="{$smarty.const.FILENAME_COMPARISON}">
{/if}

<div class="clear"></div>
<div class="navigation">
<span class="right">{$NAVIGATION}</span>{$NAVIGATION_PAGES}
</div>
<div class="clear"></div>

<!-- start: products listing -->
<div class="row-fluid shop-products">
	<ul class="thumbnails">
		{foreach name=aussen item=module_data from=$module_content}
		{if {$smarty.get.cat} > 0}
		<li class="item span4{if $smarty.foreach.aussen.index % 3 == 0} first{/if}">
		{else}
		<li class="item span3{if $smarty.foreach.aussen.index % 4 == 0} first{/if}">
		{/if}
      <form id="cart_quantity{$module_data.PRODUCTS_ID}" class="form-inline justify-content-center" action="{$module_data.PRODUCTS_LINK}/products_id/{$module_data.PRODUCTS_ID}/action/add_product" method="post" {if $smarty.const.AJAX_CART == 'true'}onsubmit="doAddProduct({$module_data.PRODUCTS_ID}); return false;"{/if}>
			<div class="thumbnail text-center">
				{if $module_data.PRODUCTS_SPECIAL > 0}<div class="description"><span class="discount">-{$module_data.PRODUCTS_SPECIAL|round}%</span></div>{/if}
				<a href="{$module_data.PRODUCTS_LINK}" class="image"><img src="{$module_data.PRODUCTS_IMAGE}" alt="{$module_data.PRODUCTS_NAME}" /><span class="frame-overlay"></span><span class="price">{$module_data.PRODUCTS_PRICE}</span>{if $module_data.PRODUCTS_LABEL}{$module_data.PRODUCTS_LABEL}{/if}</a>
			<div class="inner notop nobottom text-center">
				<h4 class="title"><a href="{$module_data.PRODUCTS_LINK}">{$module_data.PRODUCTS_NAME}</a></h4>
				{if $module_data.REVIEWS_TOTAL > 0}<div class="description"><span class="rating">{$module_data.REVIEWS_STAR_RATING}</span> <span class="reviews">{$smarty.const.TEXT_TOTAL_REVIEWS}: {$module_data.REVIEWS_TOTAL}</span></div>{/if}
				{if $module_data.EXTRA_FIELDS}
				<div class="description">
				{foreach item=extra_fields from=$module_data.EXTRA_FIELDS}
				{$extra_fields.NAME}: {$extra_fields.VALUE}<br />
				{/foreach}
				</div>
				{/if}
				{if $module_data.SPECS}
				<div class="description specs">
				<!-- Specifications -->
				{foreach name=outer item=spec_group from=$module_data.SPECS}
				<br />
				{foreach key=key_data item=spec from=$spec_group.DATA}
				<div class="{cycle values="spec-odd,spec-even"}">
				<span class="spec-name">{$spec.NAME}:</span> <span class="spec-value">{$spec.VALUE}</span><br /> 
				</div>
				{/foreach}
				{/foreach}
				<br />
				</div>
				{/if}
				{if $module_data.attrib!=''}
            <!-- Attributes Start -->
            <div class="description attributes">
				{foreach name=attrib item=module_attrib from=$module_data.attrib}
				{if $module_attrib.TYPE eq '1'}
				<!-- select -->
				<p>
				<strong>{$module_attrib.NAME}:</strong>
				<select name="id[{$module_attrib.ID}]">
				{foreach key=key_data item=item_data from=$module_attrib.DATA}
				<option value="{$item_data.ID}">{$item_data.TEXT} {if $item_data.MODEL}({$item_data.MODEL}){/if} {if $item_data.PRICE_PLAIN != 0}({$item_data.PREFIX}{$item_data.PRICE}){/if}</option>
				{/foreach}
				</select>
				</p>
				<!-- /select -->
				{elseif $module_attrib.TYPE eq '2'}
				<!-- text -->
				<p>
				<strong>{$module_attrib.NAME}:</strong>
				{foreach key=key_data item=item_data from=$module_attrib.DATA}
				<strong>{$item_data.TEXT}</strong>
				<input name="id[{$module_attrib.ID}]" type="hidden" value="{$item_data.ID}" />
				<input name="id[txt_{$module_attrib.ID}_{$item_data.ID}]" type="text" size="{$module_attrib.SIZE}" maxlength="{$module_attrib.LENGTH}" />{if $item_data.MODEL}({$item_data.MODEL}){/if} {if $item_data.PRICE_PLAIN != 0}({$item_data.PREFIX}{$item_data.PRICE}){/if}
				{if $item_data.DESCRIPTION}<br />{$item_data.DESCRIPTION}{/if}<br />
				{/foreach}
				</p>
				<!-- /text -->
				{elseif $module_attrib.TYPE eq '3'}
				<!-- textarea -->
				<p>
				<strong>{$module_attrib.NAME}:</strong>
				{foreach key=key_data item=item_data from=$module_attrib.DATA}
				<strong>{$item_data.TEXT}</strong>
				<input name="id[{$module_attrib.ID}]" type="hidden" value="{$item_data.ID}" />
				<textarea name="id[txt_{$module_attrib.ID}_{$item_data.ID}]" cols="20" rows="{$module_attrib.ROWS}"></textarea>
				{if $item_data.MODEL}({$item_data.MODEL}){/if} {if $item_data.PRICE_PLAIN != 0}({$item_data.PREFIX}{$item_data.PRICE}){/if}
				{if $item_data.DESCRIPTION}<br />{$item_data.DESCRIPTION}{/if}<br />
				{/foreach}
				</p>
				<!-- /textarea -->
				{elseif $module_attrib.TYPE eq '4'}
				<!-- radio -->
				<p>
				<strong>{$module_attrib.NAME}:</strong>
				{foreach key=key_data item=item_data from=$module_attrib.DATA}
				<!-- changed by mosq // -->
				<input type="radio" name="id[{$module_attrib.ID}]" value="{$item_data.ID}" {$item_data.CHECKED} />
				{$item_data.TEXT} {if $item_data.PRICE_PLAIN != 0}({$item_data.PREFIX}{$item_data.PRICE}){/if}
				{if $item_data.DESCRIPTION}<br />{$item_data.DESCRIPTION}<br />{/if}
				{if $item_data.SHORT_DESCRIPTION}{$item_data.SHORT_DESCRIPTION}<br />{/if}
				{if $item_data.IMAGE}<img src="{$image_dir}thumbs/{$item_data.IMAGE}" border="0" alt="{$item_data.TEXT}" />{/if}
				{if $item_data.LINK}<a align="right" href="http://{$item_data.LINK}" target="_blank"><img src="{$tpl_path}img/info.gif" border="0" alt="{$item_data.TEXT}" /></a>{/if}<br />
				{/foreach}
				</p>
				<!-- /radio -->
				{elseif $module_attrib.TYPE eq '5'}
				<!-- checkbox -->
				<p>
				<strong>{$module_attrib.NAME}:</strong>
				{foreach key=key_data item=item_data from=$module_attrib.DATA}
				<input type="checkbox" name="id[{$module_attrib.ID}]" value="{$item_data.ID}" />
				{$item_data.TEXT} {if $item_data.PRICE_PLAIN != 0}({$item_data.PREFIX}{$item_data.PRICE}){/if}
				{if $item_data.DESCRIPTION}<br />{$item_data.DESCRIPTION}{/if}<br />
				{/foreach}
				</p>
				<!-- /checkbox -->
				{elseif $module_attrib.TYPE eq '6'}
				<!-- readonly -->
				<p>
				<strong>{$module_attrib.NAME}:</strong>
				{foreach key=key_data item=item_data from=$module_attrib.DATA}
				<input type="hidden" name="id[{$module_attrib.ID}]" value="{$item_data.ID}" />
				{if $item_data.MODEL}({$item_data.MODEL}){/if} {$item_data.TEXT} {if $item_data.PRICE_PLAIN != 0}({$item_data.PREFIX}{$item_data.PRICE}){/if}
				{if $item_data.DESCRIPTION}<br />{$item_data.DESCRIPTION}{/if}<br />
				{/foreach}
				</p>
				<!-- /readonly -->
				{/if}
				{/foreach}
				</div>
            <!-- /Attributes End -->
				{/if}	
				{if $CATEGORIES_NAME && SPECIFICATIONS_BOX_COMPARISON == "True"}<div class="description"><label><input type="checkbox" id="s_{$module_data.PRODUCTS_ID}" name="products[]" value="{$module_data.PRODUCTS_ID}" /> {#text_compare#}</label></div>{/if}
			</div>
			</div>
			<div class="inner darken notop text-center">
         <div class="btn-group">
         <div class="input-prepend">
	       <span class="btn btn-dark value-control" data-action="minus" data-target="quantity{$module_data.PRODUCTS_ID}"><i class="fa fa-minus"></i></span>
         </div>
         <input name="products_qty" type="text" value="1" class="span3 form-control text-center" id="quantity{$module_data.PRODUCTS_ID}">
         <div class="input-append">
	       <span class="btn btn-dark value-control" data-action="plus" data-target="quantity{$module_data.PRODUCTS_ID}"><i class="fa fa-plus"></i></span>
         </div>
         </div>
         <input type="hidden" name="products_id" value="{$module_data.PRODUCTS_ID}" />
         <br />
			<button class="btn btn-add-to-cart"><i class="fa fa-shopping-cart"></i> {$smarty.const.ICON_CART}</button>
			</div>
		</form>
		</li>
		{/foreach}
	</ul>
</div>  
<!-- end: products listing -->  
<div class="clear"></div>

{if $CATEGORIES_NAME && SPECIFICATIONS_BOX_COMPARISON == "True"}
<input type="hidden" name="cat" value="{$smarty.get.cat}" />
{$BUTTON_COMPARE}</form>
{/if}

<div class="navigation">
<span class="right">{$NAVIGATION}</span>{$NAVIGATION_PAGES}
</div>
<div class="clear"></div>

{if $CATEGORIES_HEADING_TITLE or $CATEGORIES_DESCRIPTION}
<div class="page">
<div class="pageItem">

{if $CATEGORIES_HEADING_TITLE}
<p>
{$CATEGORIES_HEADING_TITLE}
</p>
{/if}
{if ($CATEGORIES_DESCRIPTION or $FILTER_DESCRIPTION) and !$smarty.get.page}
<p>
{$CATEGORIES_DESCRIPTION}
{$FILTER_DESCRIPTION}
</p>
{/if}

<div class="clear"></div>
</div>

</div>
{/if}